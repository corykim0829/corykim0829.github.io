---
title: "TIL January 11th 2019"
header:
  teaser: /assets/images/til-og.png
  overlay_image: /assets/images/til-og.png
  overlay_filter: 0.2
  caption: "Photo credit: [**Unsplash**](https://unsplash.com)"
categories:
  - TIL
tags:
  - iOS
---



- Margin to StackView
- UIPanGestureRecognizer
- CGAffineTransform
- translatedBy



remove some warnings : https://stackoverflow.com/questions/52410471/unable-to-look-up-screen-scale-and-unexpected-physical-screen-orientation-in-xco/53024525



### CardView

CardView cocoa touch class를 만들어준다. subclass of UIView

blueView는 cardsDeckView로 이름을 바꿔주고 이제 cardsDeckView안에 여러 cardView를 넣을 것이므로

setupDummyCards()라는 함수를 viewDidLoad에서 호출하여 해당 함수에서 CardView 객체들을 생성하고 관리



**ViewController.swift**

```swift
fileprivate func setupDummyCards() {
        print("Setting up dummy cards")
        let cardView = CardView(frame: .zero)
        cardsDeckView.addSubview(cardView)
        cardView.fillSuperview()
    }
```



**CardView.swift**

```swift
fileprivate let imageView = UIImageView(image: #imageLiteral(resourceName: "lady5c"))
    
    override init(frame: CGRect) {
        super.init(frame: frame)
        // custom drawing code
        backgroundColor = .red
        
        addSubview(imageView)
        imageView.fillSuperview()
    }
```



이제 패딩or마진을 주고 싶은데, CardView에 줘도 CardView는 cardsDeckView에 subclass이기 때문에 상위 클래스에 마진 또는 패딩을 주자라고 생각했는데

왜 overallStackView에 마진을 줘야하지?



#### isLayoutMarginsRelativeArrangement

A Boolean value that determines whether the **stack view** lays out its arranged views relative to its layout margins.



일단 사용한 **property는** **StackView** 에서만 사용가능하다.



// 사진넣기



**ViewController.swift**

```swift
		overallStackView.isLayoutMarginsRelativeArrangement = true
        overallStackView.layoutMargins = .init(top: 0, left: 12, bottom: 0, right: 12)
```

이렇게 stackView에 margin을 줄 수 있다.



CardView.swift > init

```swift
		layer.cornerRadius = 20
        clipsToBounds = true
```

cornerRadius는 항상 layer먼저 접근해줘야한다.

그리고 항상 clipsToBounds는 필수!



이렇게 설정을 하면 이전 cardsDeckView의 backgroundColor가 보일 것이다. 이 view의 backgroundcolor만 없애주면 끝



### UIPanGestureRecognizer

```swift
override init(frame: CGRect) {
        ...
        let panGesture = UIPanGestureRecognizer(target: self, action: #selector(handlePan))
        addGestureRecognizer(panGesture)
    }
    
    @objc fileprivate func handlePan(gesture: UIPanGestureRecognizer) {
        print("Panning image")
    }
```

addGestureRecognizer로 추가



```swift
	let translation = gesture.translation(in: nil)
	print(translation.x)
```



handlePan()에서 접근하기 위해 self 사용



```swift
@objc fileprivate func handlePan(gesture: UIPanGestureRecognizer) {
        switch gesture.state {
        case .changed:
            let translation = gesture.translation(in: nil)
            self.transform = CGAffineTransform(translationX: translation.x, y: translation.y)
        case .ended:
            UIView.animate(withDuration: 0.75, delay: 0, usingSpringWithDamping: 1, initialSpringVelocity: 1, options: .curveEaseOut, animations: {
                self.transform = .identity
            }) { (_) in
                
            }
        default:
            ()
        }
    }
```



```swift
@objc fileprivate func handlePan(gesture: UIPanGestureRecognizer) {
        switch gesture.state {
        case .changed:
            handleChanged(gesture)
        case .ended:
            handleEnded()
        default:
            ()
        }
    }
    
    fileprivate func handleChanged(_ gesture: UIPanGestureRecognizer) {
        let translation = gesture.translation(in: nil)
        self.transform = CGAffineTransform(translationX: translation.x, y: translation.y)
    }
    
    fileprivate func handleEnded() {
        UIView.animate(withDuration: 0.75, delay: 0, usingSpringWithDamping: 1, initialSpringVelocity: 1, options: .curveEaseOut, animations: {
            self.transform = .identity
        }) { (_) in
            
        }
    }
```

Refactoring



```swift
UIView.animate(withDuration: 0.75, delay: 0, usingSpringWithDamping: 0.6, initialSpringVelocity: 0.1, options: .curveEaseOut, animations: {
            self.transform = .identity
        }) { (_) in
            
        }
```

usingSpringWithDamping 인자와 initialSpringVelocity 인자 값을 변경해주면 조금 더 애니메이션 효과가 적용되는 것을 확인할 수 있다.



ViewController.swift

```swift
        overallStackView.bringSubviewToFront(cardsDeckView)
```



------

### Rotation

```swift
fileprivate func handleChanged(_ gesture: UIPanGestureRecognizer) {
        // rotation
        // some not that scary math here to convert radians to degree
        let degrees: CGFloat = 15
        let angles = degrees * .pi / 180
        let rotationTransformation = CGAffineTransform(rotationAngle: angles)
        self.transform = rotationTransformation
    }
```

15도 돌아가는 함수

transform에 관련된 것은 CGAffineTransform()



### CGAffineTransform

An affine transformation matrix for use in drawing 2D graphics.



```swift
		let translation = gesture.translation(in: nil)
        // rotation
        // some not that scary math here to convert radians to degree
        let degrees: CGFloat = translation.x / 20
```

degrees 위에 translation을 선언해주고 translation.x 만큼 회전시켜준다.



```swift
		self.transform = rotationTransformation.translatedBy(x: translation.x, y: translation.y)
```

rotationTransformation에 translatedBy() 호출하여 마지막에 이동시켜주면 된다.

### translatedBy(x:y:)

Returns an affine transformation matrix constructed by translating an existing affine transform.





```swift
fileprivate func handleEnded() {
        let shouldDismissCard = true
        
        UIView.animate(withDuration: 0.75, delay: 0, usingSpringWithDamping: 0.6, initialSpringVelocity: 0.1, options: .curveEaseOut, animations: {
            if shouldDismissCard {
                
                let offScreenTransform = self.transform.translatedBy(x: 1000, y: 0)
                self.transform = offScreenTransform
            } else {
                self.transform = .identity
            }
        }) { (_) in
            print("Completed animation, let's bring our card back")
            self.transform = .identity
        }
    }
```

shouldDismissCard



offScreenTransform을 이용하여 Dismiss시키면 어색하다.

```swift
self.frame = CGRect(x: 1000, y: 0, width: self.frame.width, height: self.frame.height)
```



```swift
(_) in
            print("Completed animation, let's bring our card back")
            self.transform = .identity
            self.frame = CGRect(x: 0, y: 0, width: self.superview!.frame.width, height: self.superview!.frame.height)
        }
```

### identity

The identity transform:![A 3 by 3 identity matrix.](data:image/png;base64,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)



self.superview!를 통하여 cardView에 접근 그냥 self를 하면 uiimageV

```
			print(self)
            print(self.superview!)
```



```
<Tinder.CardView: 0x7fd2ce0165c0; frame = (894.077 -5.68434e-14; 671.177 615.268); transform = [0.97778323675860612, 0.20961856290382183, -0.20961856290382183, 0.97778323675860612, 239.34858461333238, 38.016510144863005]; clipsToBounds = YES; gestureRecognizers = <NSArray: 0x600000b1c9c0>; layer = <CALayer: 0x600000506a00>>

<UIView: 0x7fd2cb607d30; frame = (12 80; 351 554); layer = <CALayer: 0x60000050fae0>>
```

이 코드에 너무 집착안해도 된다~ 나중에 안쓸거야



```swift
		let threshold: CGFloat = 120
        let shouldDismissCard = gesture.translation(in: nil).x > threshold
```

여기서 gesture를 사용하기 위해 handleEnded에 gesture인자를 추가 인자명 앞에 _를 추가하면 인자명을 언급하지 않아도 된다.



**threshold**

3.（그 점을 넘기면 무언가가 생기는） 기준점, 역치(閾値); 〔심리학·생리〕 역(閾)(limen) 

▸ the *threshold* of consciousness식역(의식 작용의 발생과 소멸의 경계) 

▸ have a high[a low] *threshold* of pain고통에 대한 허용 한계치가 높다[낮다].



```swift
	// Configurations
    fileprivate let threshold: CGFloat = 80
```

나중에 threshold 같은 값들은 빠르게 수정할 수 있도록 맨 위로 빼놓는다. configurations로 주석을 달아놓고 체크한다.